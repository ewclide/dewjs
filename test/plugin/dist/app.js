!function(e){var t={};function s(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,s),r.l=!0,r.exports}s.m=e,s.c=t,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)s.d(n,r,function(t){return e[t]}.bind(null,r));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="",s(s.s=0)}([function(e,t,s){"use strict";s.r(t);const n=[];function r(){let e=(new Error).stack;if(!e)return"";e=e.split("\n");let t=n.join("|");t&&(t+="|");const s=new RegExp(`(${t}dew)(.min|.dev)?.js|anonymous`,"g");for(let t=0;t<e.length;t++)if(-1==e[t].search(s)){const s=e[t].match(/https?:[^\)]+/g);if(s&&s[0])return s[0]}return""}function i(){const e=Array.from(arguments),t=r();t&&e.push(` (src: ${t})`),console.log.apply(null,e)}function l(e=0){return(()=>{let t=0;return()=>e+t++})()}function o(e,t=0){if(e.isAggregator)return e;const s=[];let n=null;const r=(...r)=>{clearTimeout(n),s.push(r.length>1?r:r[0]),n=setTimeout(()=>{e(s.slice()),s.length=0},t)};return r.isAggregator=!0,r}i.json=(e,t=4)=>i(JSON.stringify(e,null,t)),i.time=e=>console.time(e),i.timeEnd=e=>console.timeEnd(e),i.errors=function(e,t){const s=r(),n=[].concat(t);if(!n.length)return;let i=`Errors: ${e}\n`;return n.forEach(e=>i+=`  --\x3e ${e}\n`),s&&(i+=`(src: ${s})`),console.error(i),!1},i.error=function(...e){const t=r(),s=["Error:",...e,t?`\n(src: ${t})`:""];console.error.apply(null,s)},i.warn=function(...e){const t=r(),s=["Warning:",...e,t?`\n(src: ${t})`:""];console.warn.apply(null,s)};class a{constructor(...e){this._handlers=new Map,e.length&&e.forEach(e=>this.push(e))}get isCallback(){return!0}get size(){return this._handlers.size}call(...e){const t=[];return this._handlers.forEach(s=>{const n=s(...e);t.push(n)}),t}sequence(...e){let t=e;this._handlers.forEach(e=>{t=Array.isArray(t)?e(...t):e(t)});const{length:s}=t;return!s||s>1?t:t[0]}filter(e,...t){let s=0,n=t;for(const t of this._handlers){const r=Array.isArray(n)?t[1](...n):t[1](n);if(!(Array.isArray(r)?e(s,...r):e(s,r)))break;n=r,s++}return n}single(e,...t){const s=this._handlers.get(e);return s?s(...t):(i.error(`Callback error: undefined handler with key "${e}"`),!1)}push(e){if("function"==typeof e){const t=e.name||e;this._handlers.set(t,e),this._lastKey=t}}remove(e){this._handlers.has(e)&&this._handlers.delete(e)}clear(){this._handlers.clear()}pop(){this._handlers.delete(this._lastKey)}shift(){const e=this._handlers.keys().next().value;e&&this._handlers.delete(e)}}class c{constructor(e){this.htl=null,this.nodes={},this._struct={},this._createDOM(e,this._struct)}_createDOM(e,t){e.tag||(e.tag="div");const s=document.createElement(e.tag);t.element=s,this.htl?e.key&&(this.nodes[e.key]=new m(s),t.key=e.key):this.htl=new m(s);for(let n in e)switch(n){case"text":s.innerText=e.text;break;case"html":s.innerHTML=e.html;break;case"value":s.value=e.value;break;case"checked":s.checked=e.checked;break;case"type":s.type=e.type;break;case"name":s.name=e.name;break;case"attrs":for(let t in e.attrs)s.setAttribute(t,e.attrs[t]);break;case"styles":for(let t in e.styles)s.style[t]=e.styles[t];break;case"events":const n=d(),r=new Map;f.set(n,r);for(let t in e.events){const i=new a(s=>{e.events[t](s,this.nodes[e.key],this.htl)});r.set(t,i),s.setAttribute(`on${t}`,`$event.fire('${n}','${t}',event)`)}break;case"nodes":t.nodes=[],Array.isArray(e.nodes)||(e.nodes=[e.nodes]);for(let s=0;s<e.nodes.length;s++)this._createDOM(e.nodes[s],t.nodes[s]={})}}build(e=this._struct){const t=e.element.cloneNode(!0);if(e.nodes){const s=document.createDocumentFragment();for(let t=0;t<e.nodes.length;t++){const n=e.nodes[t],r=this.build(n);n.key&&this.nodes[n.key].join(r),s.appendChild(r)}t.appendChild(s)}return t}static createJSON(){if(1!==element.nodeType)return!1;const e={tag:element.tagName.toLowerCase()},t=element.attributes,s=element.childNodes;if(t.length){e.attrs={};for(let s=0;s<t.length;s++){const n=t[s];if("tag"!==n&&"nodes"!==n&&"text"!==n){const t=n.name.replace("-","_");e.attrs[t]=n.value}}}if(s.length){e.nodes=[];for(let t=0;t<s.length;t++)1==s[t].nodeType?e.nodes.push(this.createJSON(s[t])):3==s[t].nodeType&&(e.text=s[t].textContent)}return e}}var u={apply(e,t,s={}){const{origin:n,backface:r,style:i,perspective:l,units:o={}}=s;let h="";if(Array.isArray(n)){const t=o.origin||"%";e.style("transform-origin",n.join(t+" ")+t)}if(!1===r&&e.style("backface-visibility","hidden"),"3d"===i?e.style("transform-style","preserve-3d"):"flat"===i&&e.style("transform-style","flat"),"number"==typeof l){h+=`perspective(${l+(o.perspective||"px")}) `}e.style("transform",h+this.serialize(t))},serialize(e){return Array.isArray(e)?e.reduce((e,t)=>this._build(t)+e,""):this._build(e)},_build(e){let t="";const s=e.units||{},{matrix2d:n,matrix3d:r}=e,i=s.translate||"px",l=s.rotate||"deg",o=s.skew||"deg";if(Array.isArray(n)&&9==n.length)t+=`matrix2d(${n.join(",")}) `;else if(Array.isArray(r)&&16==r.length)t+=`matrix3d(${r.join(",")}) `;else{const{scale:s,scaleX:n,scaleY:r,skew:h,rotate:a,translate:c}=e;"number"==typeof c?t+=`translate(${c+i}) `:Array.isArray(c)&&(t+=`translate(${c.join(i+",")+i}) `),"number"==typeof a?t+=`rotate(${a+l}) `:Array.isArray(a)&&(t+=`rotate(${a.join(l+",")+l}) `),"number"==typeof h?t+=`skew(${h+o}) `:Array.isArray(h)&&(t+=`skew(${h.join(o+",")+o}) `),"number"==typeof s?t+=`scale(${s}) `:Array.isArray(s)?t+=`scale(${s.join(",")}) `:"number"==typeof n?t+=`scaleX(${n}) `:"number"==typeof r&&(t+=`scaleY(${r}) `)}return t},origin(e,t,s="%"){Array.isArray(t)&&e.style("transform-origin",t.join(s+" ")+s)},matrix2d(e,t,s){this._applyMatrix(e,t,9,s)},matrix3d(e,t,s){this._applyMatrix(e,t,16,s)},scale(e,t,s){this._applySingle(e,"scale",t,s,"")},scaleX(e,t,s){for(let n=0;n<e.length;n++){let r=s?e[n].style.transform:"";e[n].style.transform=r+` scaleX(${t})`}},scaleY(e,t,s){for(let n=0;n<e.length;n++){let r=s?e[n].style.transform:"";e[n].style.transform=r+` scaleY(${t})`}},skew(e,t,s,n="deg"){this._applySingle(e,"skew",t,s,n)},rotate(e,t,s,n="deg"){this._applySingle(e,"rotate",t,s,n)},translate(e,t,s,n="px"){this._applySingle(e,"translate",t,s,n)},_applySingle(e,t,s,n,r){const i=Array.isArray(s)?`${t}(${s.join(r+",")+r})`:`${t}(${s+r})`;for(let t=0;t<e.length;t++){let s=n?e[t].style.transform:"";e[t].style.transform=s+" "+i}},_applyMatrix(e,t,s,n,r){if(Array.isArray(t)&&t.length==s)for(let s=0;s<e.length;s++){let r=n?e[s].style.transform:"";e[s].style.transform=r+` matrix3d(${t.join(",")})`}else i.error(`matrix must be an array with length "${s}"`)}};const d=l("__elem__"),f=new Map;class m{constructor(e){this.elements=e?e instanceof NodeList||Array.isArray(e)?e:[e]:[],this._srcLength=this.elements.length,this._ready=!1,this._id=d(),this.query=""}get isHTMLTools(){return!0}get length(){return this.elements.length}get tag(){return this.elements[0].tagName.toLowerCase()}get sindex(){return this.elements[0].selectedIndex}get ready(){return new Promise((e,t)=>{const s=this.select("img, link, script, iframe").join(this.elements).elements;s._countReady=0;const n=()=>{s._countReady++,s._countReady==s.length&&e()};s.forEach(e=>{const s=e.tagName.toLowerCase(),r=`Can't load resource "${e.src}"`;let i=!0;if("img"===s){if(i=e.complete,i&&!e.width&&!e.height)return void t(r)}else"link"!==s&&"iframe"!==s||(i=!1);i?n():(e.addEventListener("load",n),e.addEventListener("error",t))})})}native(){return 1==this.elements.length?this.elements[0]:Array.from(this.elements)}onResize(e,t=!1){if("function"!=typeof e)return;const s=this._cacheSize(),n=o(()=>{const t=[];for(let e=0;e<this.elements.length;e++){const n=this.elements[e],r=this._checkoutSize(n,s);r&&(t.push({element:n,...r}),s.set(n,r))}t.length&&e(t.length>1?t:t[0])}),r={attributes:!0,characterData:!0,childList:t,subtree:t};return this.mutate(n,r),window.addEventListener("resize",n),this._resizeReactions||(this._resizeReactions=new Set),this._resizeReactions.add(n),this}clearOnResize(){if(this._resizeReactions)return this._resizeReactions.forEach(e=>{this.removeMutation(e),window.removeEventListener("resize",e)}),this}_checkoutSize(e,t){if(!t.has(e))return;const{offsetHeight:s,offsetWidth:n}=e,{width:r,height:i}=t.get(e);return(r!==n||i!==s)&&{width:n,height:s}}_cacheSize(){const e=new Map;for(let t=0;t<this.elements.length;t++){const s=this.elements[t];e.set(s,{width:s.offsetWidth,height:s.offsetHeight})}return e}_getSize(e){const t=e||this.elements[0];return{width:t.offsetWidth,height:t.offsetHeight}}mutate(e,t={attributes:!0},s){if(!("MutationObserver"in window))return void i.error("Your browser not support observ mutation");s&&this.clearMutations(),this._mutations||(this._mutations=[]),Object.keys(t).length||(t.attributes=!0);const n=o(e);for(let s=0;s<this.elements.length;s++){const r=this.elements[s],i=new MutationObserver(e=>n(e[0]));i.observe(r,t),this._mutations.push({options:t,observer:i,element:r,handler:e})}return this}mutateEnable(){return this._mutations.forEach(e=>{const{observer:t,element:s,options:n}=e;t.observe(s,n)}),this}mutateDisable(){return this._mutations.forEach(e=>{e.observer.disconnect()}),this}removeMutation(e){const t=[];var s,n;return this._mutations.forEach(s=>{s.handler===e&&(s.observer.disconnect(),t.push(s))}),s=this._mutations,n=t,(Array.isArray(n)?n:[n]).filter(e=>{const t=s.indexOf(e);return-1!==t&&(s.splice(t,1),!0)}),this}clearMutations(){return this._mutations.forEach(e=>{e.observer.disconnect()}),this._mutations.length=0,this}visible(e=3){const t=this._searchHidden(this.elements[0],e,0);return t?{element:t}:{}}_searchHidden(e,t,s){if(s>=t)return!1;const{parentElement:n,parentNode:r}=e,i=n||r;return!(!i||i===document)&&(this.display(i)?this._searchHidden(i,t,++s):i)}display(e){const t=e||this.elements[0];return"none"!==(t.style.display?t.style.display:getComputedStyle(t).display)}inScreen(e){const t=e||this.elements[0],{top:s,left:n,bottom:r,right:i}=t.getBoundingClientRect(),{clientWidth:l,clientHeight:o}=document.documentElement;return!(r<0||i<0||s>o||n>l)}select(e){if(1==this.elements.length){const t=this.elements[0].querySelectorAll(e),s=new m(t);return s.query=e,s}const t=[];for(let s=0;s<this.elements.length;s++){const n=this.elements[s].querySelectorAll(e),r=t.length;for(let e=0;e<n.length;e++)t[r+e]=n[e]}const s=new m(t);return s.query=e,s}getById(e){const t=new m(document.getElementById(e));return t.query="#"+e,t}before(...e){return this._insert(e.length>1?e:e[0],"beforebegin"),this}after(...e){return this._insert(e.length>1?e:e[0],"afterend"),this}append(...e){return this._insert(e.length>1?e:e[0],"beforeend"),this}appendTo(e){return e.append(this),this}prepend(...e){return this._insert(e.length>1?e:e[0],"afterbegin"),this}prependTo(e){return e.prepend(this),this}_insert(e,t){if(e)if(e.isHTMLTools){if(!this.length||!e.length)return void i.error("Can't insert elements");if(e._jsonConv)return void this._insertJSON(e,"beforeend");Array.isArray(e.elements)||(e.elements=Array.from(e.elements));let s=0;if(!e.elements[0].parentNode){const[n]=this.elements;for(let s=0;s<e._srcLength;s++)n.insertAdjacentElement(t,e.elements[s]);s++}for(let n=s;n<this.elements.length;n++)for(let s=0;s<e._srcLength;s++){const r=e.elements[s].cloneNode(!0);e.elements.push(r),this.elements[n].insertAdjacentElement(t,r)}}else if(Array.isArray(e))for(let s=0;s<e.length;s++)this._insert(e[s],t)}_insertJSON(e,t){for(let s=0;s<this.elements.length;s++){const n=e._jsonConv.build();e.elements.push(n),this.elements[s].insertAdjacentElement(t,n)}}move(e,t="end",s=0,n=!1){let r;switch(t){case"before":r="beforebegin";break;case"begin":r="afterbegin";break;case"end":r="beforeend";break;case"after":r="afterend"}const i=this.elements.length-1,l=this.elements[n?i-s:s],{elements:o}=e;for(let e=0;e<o.length;e++)l.insertAdjacentElement(r,o[e]);return this}moveTo(e,t,s,n){return e.move(this,t,s,n),this}createFromJSON(e){const t=new c(e),{htl:s,nodes:n}=t;return s.node=n,s._jsonConv=t,s}createJSON(e){const t=e?e.elements:this.elements;return t.length>1?t.map(e=>c.createJSON(e)):c.createJSON(t[0])}tplAppend(e){return!!e.isTemplate&&e.appendTo(this)}addClass(e){for(let t=0;t<this.elements.length;t++)this.elements[t].classList.add(e);return this}removeClass(e){for(let t=0;t<this.elements.length;t++)this.elements[t].classList.remove(e);return this}html(e,t=!0){if(void 0===e)return this.elements[0].innerHTML;for(let s=0;s<this.elements.length;s++)t?this.elements[s].innerHTML=e:this.elements[s].innerHTML+=e;return this}text(e){if(void 0===e)return this.elements[0].innerText;for(let t=0;t<this.elements.length;t++)this.elements[t].innerText=e;return this}value(e){if(void 0===e)return this.elements[0].value;for(let t=0;t<this.elements.length;t++)this.elements[t].value=e;return this}active(e=!1){return e?this.addClass("active"):this.removeClass("active"),this}checked(e){if(void 0===e)return this.elements[0].checked;const t=Boolean(e);for(let e=0;e<this.elements.length;e++)"checked"in this.elements[e]&&(this.elements[e].checked=t);return this}toogle(){for(let e=0;e<this.elements.length;e++)"checked"in this.elements[e]&&(this.elements[e].checked=!this.elements[e].checked);return this}choose(e){for(let t=0;t<this.elements.length;t++)"selectedIndex"in this.elements[t]&&(this.elements[t].selectedIndex=e);return this}width(e){if(void 0===e)return this.elements[0].offsetWidth;let t=e;"number"==typeof e&&(t+="px");for(let e=0;e<this.elements.length;e++)this.elements[e].style.width=t;return this}height(e){if(void 0===e)return this.elements[0].offsetHeight;let t=e;"number"==typeof e&&(t+="px");for(let e=0;e<this.elements.length;e++)this.elements[e].style.height=t;return this}get size(){const{offsetWidth:e,offsetHeight:t}=this.elements[0];return{width:e,height:t}}resize(e,t){let s=e;h=t,"number"==typeof e&&(s+="px"),"number"==typeof t&&(h+="px");for(let e=0;e<this.elements.length;e++){const t=this.elements[e].style;t.width=s,t.height=h}}offsetParent(){const{offsetTop:e,offsetLeft:t}=this.elements[0];return{top:e,left:t}}offsetWindow(){return this.elements[0].getBoundingClientRect()}offsetScroll(){const{scrollTop:e,scrollLeft:t}=this.elements[0];return{top:e,left:t}}offsetPage(){const e=this.elements[0],t=e.getBoundingClientRect(),s=document.documentElement,n=t.top+window.pageYOffset-s.clientTop,r=t.left+window.pageXOffset-s.clientLeft;return{top:Math.round(n),left:Math.round(r),bottom:Math.round(n+e.offsetHeight),right:Math.round(r+e.offsetWidth)}}scroll(){}wrap(e,t){if("string"==typeof e){const t=[],s=document.createElement("div");s.classList.add(e);for(let e=0;e<this.elements.length;e++){const n=this.elements[e],r=s.cloneNode();n.parentNode.insertBefore(r,n),r.appendChild(n),t.push(r)}return new m(t)}if(Array.isArray(e)){let s;if(t){s=this.wrap(e[e.length-1]);for(let t=e.length-2;t>=0;t--)this.wrap(e[t])}else{s=this.wrap(e[0]);for(let t=1;t<e.length;t++)this.wrap(e[t])}return s}}hide(){for(let e=0;e<this.elements.length;e++)this.elements[e].style.display="none";return this}show(e=""){for(let t=0;t<this.elements.length;t++)this.elements[t].style.display=e;return this}parent(){const e=[];for(let t=0;t<this.elements.length;t++){const{parentElement:s,parentNode:n}=this.elements[t],r=s||n;r&&e.push(r)}return new m(e)}transform(e,t){return u.apply(this,e,t),this}matrix2d(e,t){return u.matrix2d(this.elements,actions,t),this}matrix3d(e,t){return u.matrix3d(this.elements,e,t),this}scale(e,t){return u.scale(this.elements,e,t),this}scaleX(e,t){return u.scaleX(this.elements,e,t),this}scaleY(e,t){return u.scaleY(this.elements,e,t),this}skew(e,t,s){return u.skew(this.elements,e,t,s),this}rotate(e,t,s){return u.rotate(this.elements,e,t,s),this}translate(e,t,s){return u.translate(this.elements,e,t,s),this}origin(e,t){return u.origin(this,e,t),this}getAttr(e){const t=this.elements[0];if(!t)return;const{attributes:s,nodeType:n}=t;if(1!==n||!s.length)return;if("string"==typeof e)return t.getAttribute(e);const r={};if(Array.isArray(e))for(let s=0;s<e.length;s++){const e=t.getAttribute(item);e&&(r[item]=e)}else if(!e)for(let e=0;e<t.attributes.length;e++){const{name:s,value:n}=t.attributes[e];r[s]=n}return r}setAttr(e,t){if("string"==typeof e&&void 0!==t)for(let s=0;s<this.elements.length;s++)this.elements[s].setAttribute(e,t);else if("object"==typeof e)for(let t=0;t<this.elements.length;t++)for(const s in e)this.elements[t].setAttribute(s,e[s]);return this}unsetAttr(e){if("string"==typeof e)for(let t=0;t<this.elements.length;t++)this.elements[t].removeAttribute(e);else if(Array.isArray(e))for(let t=0;t<this.elements.length;t++)for(let s=0;s<e.length;s++)this.elements[t].removeAttribute(e[s]);else if(void 0===e){const e=this.getAttr();if(!e)return this;for(let t=0;t<this.elements.length;t++)for(let s in e)this.elements[t].removeAttribute(s)}return this}style(e,t){if("string"!=typeof e)return this;if(void 0===t)return this.elements[0].style[e];for(let s=0;s<this.elements.length;s++)this.elements[s].style[e]=t;return this}styles(){let e,t="";1==arguments.length?e=arguments[0]:(e=arguments[1],t=arguments[0]),t&&(t+="-");for(let s=0;s<this.elements.length;s++)for(const n in e)this.elements[s].style[t+n]=e[n];return this}addEvent(e,t){f.has(this._id)||f.set(this._id,new Map);const s=f.get(this._id);if("string"==typeof e&&"function"==typeof t)this._eventAttach(s,e,t);else if("object"==typeof e)for(const t in e)this._eventAttach(s,t,e[t]);return this}fireEvent(e){const t=new Event(e);for(let e=0;e<this.elements.length;e++)this.elements[e].dispatchEvent(t);return this}removeEvent(e){if(!f.has(this._id))return this;const t=f.get(this._id);if(!e){for(const[e]of t)this.unsetAttr("on"+e);return t.clear(),this}return t.delete(e),this.unsetAttr("on"+e),this}_eventAttach(e,t,s){e.has(t)?e.get(t).push(s):e.set(t,new a(s)),this.setAttr("on"+t,`$event.fire('${this._id}','${t}',event)`)}each(e){for(let t=0;t<this.elements.length;t++)e(this.elements[t],t,this);return this}clone(e){const t=[];for(let s=0;s<this.elements.length;s++)t.push(this.elements[s].cloneNode(e));return new m(t)}join(e){let t;if(this.elements=Array.from(this.elements),e.isHTMLTools)t=e.elements;else if(e instanceof NodeList||Array.isArray(e))t=e;else{if(!(e instanceof Element))return i.error(`Can't attach element ${e}`),this;t=[e]}for(let e=0;e<t.length;e++)this.elements.push(t[e]);return this}clear(){for(let e=0;e<this.elements.length;e++)this.elements[e].innerHTML="";return this}remove(){for(let e=0;e<this.elements.length;e++){const t=this.elements[e],{parentNode:s}=t;s&&s.removeChild(t)}return Array.isArray(this.elements)||(this.elements=Array.from(this.elements)),this.elements.splice(this._srcLength),this}delete(){for(let e=0;e<this.elements.length;e++){const t=this.elements[e],{parentNode:s}=t;s&&s.removeChild(t)}return this.elements=[],this._srcLength=0,this}}function p(e){return e.replace(/[A-Z]/g,e=>"-"+e.toLowerCase())}class y{constructor(){this.element=this._createElement()}get isStyleSheet(){return!0}_createElement(){if(document.createStyleSheet)return document.createStyleSheet();{const e=document.getElementsByTagName("head")[0],t=document.createElement("style");return e.appendChild(t),document.styleSheets[document.styleSheets.length-1]}}_getLastIndex(){return this.element.cssRules.length}add(){if(arguments.length>1){const[e,t]=arguments;return this._add(e,t)}if(Array.isArray(arguments[0])){const e=[];return arguments[0].forEach(t=>{const{rule:s}=t;e.push(this._add(s,style))}),e}}_add(e,t){if("string"!=typeof e)return void i.error(`rule "${e}" argument must be a string`);if("object"!=typeof t)return void i.error(`styles "${t}" argument must be an object`);const s=y.serialize(e,t),n=this._getLastIndex();return this.element.insertRule(s,n),n}keyFrames(e,t){if(!Array.isArray(t)||t.length<2)return void i.error("keyframes must be an array with more than 1 elements");const s=this._getLastIndex(),n=t.length-1,r="@keyframes "+e;let l="";return t.forEach((e,t)=>{const{offset:s=t/n}=e;l+=y.serialize(100*s+"%",e)}),this.element.insertRule(`${r} {${l}}`,s),s}media(e,t){if("object"!=typeof e)return void i.error("media request must be an object");const s=this._buildMediaRule(e),n=this._getLastIndex();this.element.insertRule(`${s} {}`,n);const r=new g(this.element,n);return Array.isArray(t)&&t.forEach(e=>{const{rule:t}=e;r.add(t,e)}),r}_buildMediaRule(e){const{only:t}=e;let s="@media",n=!0;t&&(s+=" only",e.only=null);for(let t in e){const r=e[t];if(!r)continue;const i=p(t);s+=n?" ":" and ",s+="boolean"==typeof r?i:"number"==typeof r?`(${i}:${r}px)`:`(${i}:${r})`,n=!1}return s}animation(e){return new v(this,e)}remove(e){e.isSpecial?(e.clear(),this.elements.deleteRule(e.index)):this.elements.deleteRule(e)}static serialize(e,t){let s=e+"{";for(let e in t){if("rule"===e)continue;let n=t[e];"transform"===e&&"object"==typeof n&&(n=u.serialize(n)),s+=`${p(e)}:${n};`}return s+"}"}}class g{constructor(e,t){this._media=e.cssRules[t],this._rules=this._media.cssRules,this.index=t}get isSpecial(){return!0}get isMedia(){return!0}add(e,t){const s=this._rules.length,n=y.serialize(e,t);return this._media.insertRule(n,s),s}remove(e){this._media.deleteRule(e)}clear(){for(let e=0;e<this._rules.length;e++)this._media.deleteRule(e)}}const _=l("__kf__"),b=l("__anim__");class v{constructor(e,t){this._parent=e,this._offsetTime=0,this._prevDuration=0,this._strRule="",this._keyFrames=new Map,this.className=t||b(),this.index=null}get isSpecial(){return!0}get isAnimation(){return!0}init(){return this.index=this._parent.add("."+this.className,{animation:this._strRule}),this}add(e,t){return this._attach(!0,e,t),this._prevThen=!0,this}and(e,t){return this._attach(!1,e,t),this._prevThen=!1,this}_attach(e,t,s={}){const{duration:n=1e3,easing:r=null,steps:i=null,stepType:l="end",fillMode:o="forwards",delay:h=0}=s,a=e?this._offsetTime+h:this._offsetTime-this._prevDuration,c=_(),u=this._parent.keyFrames(c,t);this._keyFrames.set(c,u),this._strRule+=(this._strRule?",":"")+c,this._strRule+=` ${n}ms`,this._strRule+=` ${a}ms`,i&&(this._strRule+=` steps(${i}, ${l})`),r&&(this._strRule+=` ${r}`),o&&(this._strRule+=` ${o}`),e&&(this._offsetTime+=n,this._prevDuration=n)}clear(){this._keyFrames.forEach(e=>this._parent.remove(e)),this._keyFrames.clear()}}const w=m.prototype,A=new m(document),x={fire:(e,t,s)=>{if(!f.has(e))return void i.error(`Can't dispatch event on element with id "${e}"`);const n=f.get(e);n.has(t)&&n.get(t).call(s)}};if(A.extend=function(e,t){return w[e]=t,this},A.script=function(e){return new Promise((t,s)=>{const n=document.createElement("script");n.src=e,n.onload=()=>t(n),n.onerror=()=>s(`can't load the script "${e}"`),document.body.appendChild(n)})},A.create=function(e,t,s){const n=new m(document.createElement(e));return"string"==typeof t?n.addClass(t):"object"==typeof t&&n.setAttr(t),s&&n.styles(s),n},A.convert=function(e){return 1===e.nodeType||9===e.nodeType?new m(e):"string"==typeof e?this.select(e):!!e.isHTMLTools&&e},A.parseXML=function(e){let t,s="";return void 0!==window.DOMParser?t=e=>(new window.DOMParser).parseFromString(e,"text/xml"):void 0!==window.ActiveXObject&&new window.ActiveXObject("Microsoft.XMLDOM")?t=e=>{const t=new window.ActiveXObject("Microsoft.XMLDOM");return t.async="false",t.loadXML(e),t}:s="parseXML not supported by this browser!",s?i.error(s):t(e)},A.createStyleSheet=function(){return new y},A._body=new m,!window.$event){const e={configurable:!1,enumerable:!1,writable:!1};Object.defineProperty(window,"$event",{...e,value:x})}Object.defineProperty(A,"body",{configurable:!1,get:function(){return document.body?this._body.length||this._body.join(document.body):i.error("body element is currently unavailable!"),this._body}}),Object.defineProperty(A,"ready",{configurable:!1,get:()=>new Promise(e=>{A._ready?e():document.addEventListener("DOMContentLoaded",e)})}),document.addEventListener("DOMContentLoaded",()=>A._ready=!0);var k=A;function $(e=0,t=9){return Math.floor(e+Math.random()*(t+1-e))}const M=l("title_");var E=k.create("h2").text(M()).style("font-size",$(30,50)+"px");const j="abcdefghijklmnopqrstuvwxyz",L="ABCDEFGHIJKLMNOPQRSTUVWXYZ",S="!?@#$%^&*()*-_+=[]{}<>.,;:/'\"\\";function O(e,t){return t?e.trim().replace(/\s+/g," "):e.trim()}const T=function e(t,s){if(s)return O(t,!0).replace().split(" ").map(t=>e(t)).join(" ");let n=O(t);return n.charAt(0).toUpperCase()+n.slice(1)}("hello "+function(e=15,t=["all"]){let s="";-1!=t.indexOf("all")?s=j+L+"1234567890"+S:(-1!=t.indexOf("lower")&&(s+=j),-1!=t.indexOf("upper")&&(s+=L),-1!=t.indexOf("numbers")&&(s+="1234567890"),-1!=t.indexOf("specials")&&(s+=S));const n=s.length-1;let r="";for(let t=1;t<e;t++){let e=s[$(0,n)];e!=r[t-1]&&(r+=e)}return r}(10,["lower","upper"]));var R=k.create("p").text(T);(async()=>{await k.ready,k.body.append(E,R)})()}]);
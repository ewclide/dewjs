module.exports=function(t){var e={};function r(s){if(e[s])return e[s].exports;var n=e[s]={i:s,l:!1,exports:{}};return t[s].call(n.exports,n,n.exports,r),n.l=!0,n.exports}return r.m=t,r.c=e,r.d=function(t,e,s){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(r.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)r.d(s,n,function(e){return t[e]}.bind(null,n));return s},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=5)}([function(t,e,r){"use strict";function s(t=0){return(()=>{let e=0;return()=>t+e++})()}r.r(e),r.d(e,"idGetter",function(){return s}),r.d(e,"browser",function(){return n}),r.d(e,"printErr",function(){return i}),r.d(e,"isType",function(){return a}),r.d(e,"strParse",function(){return l}),r.d(e,"intParse",function(){return h}),r.d(e,"floatParse",function(){return c}),r.d(e,"jsonParse",function(){return u}),r.d(e,"construct",function(){return d}),r.d(e,"publish",function(){return f}),r.d(e,"getElementData",function(){return _}),r.d(e,"fetchSettings",function(){return p}),r.d(e,"randi",function(){return m}),r.d(e,"randf",function(){return y}),r.d(e,"randKey",function(){return g}),r.d(e,"camelCaseToDash",function(){return b}),r.d(e,"dashToCamelCase",function(){return v}),r.d(e,"camelCaseMerge",function(){return w}),r.d(e,"trim",function(){return A}),r.d(e,"capitalize",function(){return j}),r.d(e,"zeroPad",function(){return O}),r.d(e,"vmin",function(){return T}),r.d(e,"vmax",function(){return S}),r.d(e,"vw",function(){return E}),r.d(e,"vh",function(){return $}),r.d(e,"clamp",function(){return k}),r.d(e,"clampOut",function(){return x}),r.d(e,"clampSide",function(){return M}),r.d(e,"clampAngle",function(){return P}),r.d(e,"mirrAngle",function(){return L}),r.d(e,"roundBetween",function(){return C}),r.d(e,"clampBySteps",function(){return R}),r.d(e,"limitCalls",function(){return N}),r.d(e,"sleep",function(){return F}),r.d(e,"entry",function(){return D}),r.d(e,"log",function(){return I});const n=function(){const t=navigator.userAgent;return t.search(/Chrome/)>0?"Chrome":t.search(/Firefox/)>0?"Firefox":t.search(/Opera/)>0?"Opera":t.search(/Safari/)>0?"Safari":t.search(/MSIE|\.NET/)>0&&"IE"}();function i(t,e=!0){let r="Error: ";if(e&&(e=o()),Array.isArray(t)&&t.length)r+=t.title||"Error list",r+="\n",t.forEach(t=>r+=`  --\x3e ${t}\n`),e&&(r+=`  -----\n  Source: ${e}`);else{if("string"!=typeof t)return!1;r+=t,e&&(r+=` (${e})`)}return console.error(r),!1}function o(){let t=(new Error).stack;if(!t)return"";t=t.split("\n");for(let e=0;e<t.length;e++)if(-1==t[e].search(/dew\.(min|dev)\.js|anonymous/g)){const r=t[e].match(/https?:[^\)]+/g);if(r&&r[0])return r[0]}return""}function a(t,e){if(Array.isArray(e))return e.some(e=>a(t,e));if(void 0===e)return"number"==typeof t?"number":"string"==typeof t?"string":"boolean"==typeof t?"boolean":Array.isArray(t)?"array":"function"==typeof t?"function":t instanceof Element?"DOM":t.isHTMLTools?"HTMLTools":"object";switch(e){case"number":return"number"==typeof t;case"string":return"string"==typeof t;case"boolean":return"boolean"==typeof t;case"array":return Array.isArray(t);case"function":return"function"==typeof t;case"DOM":return t instanceof Element;case"HTMLTools":return!!t.isHTMLTools;default:return i(`the type "${e}" is unknown!`),!1}}function l(t){if("string"==typeof t)return+t?+t:"true"==t||"TRUE"==t||"false"!=t&&"FALSE"!=t&&(-1!=t.search(/\[.+\]/g)?(t=t.replace(/\[|\]/g,"").split(",")).map(t=>l(t)):-1!=t.search(/\{.+\}/gm)?u(t):A(t));i('strParse error - type of argument must be "string"')}function h(t){return+t.replace(/[^\d]/g,"")}function c(t){return parseFloat(t.replace(/,/,".").replace(/[^\d.,]/g,""))}function u(t){const e=/^[\s*"']+|['"\s*]+$/gm;let r="",s="",n=!1,i=!1,o="";for(let a=0;a<t.length;a++)n&&t[a]==r&&(n=!1,a++),"'"!=t[a]&&'"'!=t[a]||(n=!0,r=t[a],a++),i=":"==t[a],-1=="{}[],:".indexOf(t[a])||n?s+=t[a]:((s=s.replace(e,""))&&("true"==s?s=!0:"false"==s&&(s=!1),o+="boolean"==typeof s&&!i||+s&&!i?s:'"'+s+'"'),o+=t[a],s="");return JSON.parse(o)}function d(t,e){return(e=Array.from(e)).unshift(0),new(Function.bind.apply(t,e))}function f(t,e,r){const n={},i=s(t.name+"__");function o(){const e=i();n[e]=new t(...arguments),this.id=e}if(!e||!e.length)throw new Error(`The class "${t.name}" must have at least one public method`);return e.forEach(e=>{e in t.prototype?o.prototype[e]=function(){const t=n[this.id];return t[e].apply(t,arguments)}:console.error(`${t.name} class have not the "${e}" method!`)}),r&&r.forEach(t=>{Object.defineProperty(o.prototype,t,{configurable:!1,get:function(){return n[this.id][t]},set:function(e){n[this.id][t]=e}})}),o}function _(t,e,r,s){const n={};for(let i in e)if(void 0===t[i]){let t,o="data-"+(s[i]||b(i));t=+(o=r?r.getAttribute(o):null),""===o||"true"===o?o=!0:"false"===o?o=!1:null===o||isNaN(t)||(o=t),n[i]=null!==o?o:e[i]}else n[i]=t[i];return n}function p(t,e,r={},s={}){const n={};for(let i in e){const o=t[i],l=r[i],h=s[i],c=e[i];let u=!0;void 0===o?u=!1:(l&&(u=a(o,l)),h&&(u=h.indexOf(o)>=0)),n[i]=u?o:c}return n}function m(t=0,e=9999999){return Math.floor(Math.random()*(e-t))+t}function y(t=0,e=1,r){const s=Math.random()*(e-t)+t;return r?parseFloat(s.toFixed(r)):s}function g(t=15,e=["all"]){const r="abcdefghijklmnopqrstuvwxyz",s="ABCDEFGHIJKLMNOPQRSTUVWXYZ",n="!?@#$%^&*()*-_+=[]{}<>.,;:/'\"\\";let i="";-1!=e.indexOf("all")?i=r+s+"1234567890"+n:(-1!=e.indexOf("lower")&&(i+=r),-1!=e.indexOf("upper")&&(i+=s),-1!=e.indexOf("numbers")&&(i+="1234567890"),-1!=e.indexOf("specials")&&(i+=n));const o=i.length-1;let a="";for(let e=1;e<t;e++){let t=i[random(0,o)];t!=a[e-1]&&(a+=t)}return a}function b(t){return t.replace(/[A-Z]/g,t=>"-"+t.toLowerCase())}function v(t){return t.replace(/-\w/g,t=>t.toUpperCase().slice(1))}function w(...t){return t.reduce((t,e,r)=>t+(r?e.charAt(0).toUpperCase()+e.slice(1):e),"")}function A(t,e){return e?t.trim().replace(/\s+/g," "):t.trim()}function j(t,e){if(e)return A(t,!0).replace().split(" ").map(t=>j(t)).join(" ");let r=A(t);return r.charAt(0).toUpperCase()+r.slice(1)}function O(t,e){let r=t+"";for(;r.length<e;)r="0"+r;return r}function T(t){return t/100*Math.min(window.innerWidth,window.innerHeight)}function S(t){return t/100*Math.max(window.innerWidth,window.innerHeight)}function E(t){return t/100*window.innerWidth}function $(t){return t/100*window.innerHeight}function k(t,e,r){return t<e?e:t>r?r:t}function x(t,e,r){let s=t;if(Number.isFinite(e)||Number.isFinite(r)){const n=e+(r-e)/2;t>=n&&t<r?s=r:t<n&&t>e&&(s=e)}return s}function M(t,e,r){const s=r?-1:1;return s*t>s*e?e:t}function P(t,e=!0){if(!Number.isFinite(t))return t;const r=e?2*Math.PI:360,s=t%r;return s<0?r+s:s}function L(t,e=!0){if(!Number.isFinite(t))return t;const r=e?2*Math.PI:360,s=t%r,n=s<0?r+s:s;return n>r/2?n-r:n}function C(t,e,r){return t>e+(r-e)/2?r:e}function R(t,e){if(e.length<2)return t;const r=e[e.length-1],s=e[0];let n=e[0];for(let r=1;r<e.length;r++){const s=e[r];if(!(s<n)){if(t>=n&&t<=s)return C(t,n,s);n=e[r]}}return C(t,s,r)}function N(t,e=1){let r=0;const s=(...s)=>{r<e&&(t(...s),r++)};return s.resetCalls=(()=>{r=0}),s.getSource=(()=>t),s}function F(t){return t?new Promise(e=>setTimeout(e,t)):Promise.resolve()}function D(t,e,r){return t>=e&&t<=r}function I(){const t=Array.from(arguments),e=o();e&&t.push(`\n-----\nSource: ${e}`),console.log.apply(null,t)}I.json=((t,e=4)=>I(JSON.stringify(t,null,e))),I.time=(t=>console.time(t)),I.timeEnd=(t=>console.timeEnd(t))},function(t,e,r){"use strict";r.d(e,"a",function(){return n});var s=r(0);class n{constructor(t){this._handlers=new Map,"function"==typeof t&&this.push(t)}get isCallBacker(){return!0}get length(){return this._handlers.size}async(...t){return t.length>1?t:t[0]}call(...t){return this._handlers.forEach(e=>e(...t)),t.length>1?t:t[0]}sequence(...t){return this._handlers.forEach(e=>{t=Array.isArray(t)?e(...t):e(t)}),t}filter(t,...e){let r=0;for(const s of this._handlers){const n=Array.isArray(e)?s[1](...e):s[1](e);if(!(Array.isArray(n)?t(r,...n):t(r,n)))break;e=n,r++}return e}single(t,...e){const r=this._handlers.get(t);if(r)return r(...e);Object(s.printErr)(`CallBacker error: undefined handler with key "${t}"`)}push(t){if("function"==typeof t){const e=t.name||t;this._handlers.set(e,t),this._lastKey=e}}remove(t){this._handlers.has(t)&&this._handlers.delete(t)}clear(){this._handlers.clear()}pop(){this._handlers.delete(this._lastKey)}shift(){const t=this._handlers.keys().next().value;t&&this._handlers.delete(t)}}},function(t,e,r){"use strict";r.r(e);var s=r(0),n=r(3);class i{constructor(t){this._object=t,this.errors=[],this.errors.title=`DEW object init error at ${t.constructor.name} constructor`}checkout(t,e,r){const s=this._validate(t,e,r);void 0!==s&&this._setValue(t,e,s)}_setValue(t,e,r){const{root:s,desc:n}=e,{write:i,enumer:o,config:a}=n,l=s||this._object;e.desc?Object.defineProperty(l,String(t),{writable:"boolean"!=typeof i||i,enumerable:"boolean"!=typeof o||o,configurable:"boolean"!=typeof a||a,value:r}):l[t]=r}_validate(t,e,r){const{required:n,def:i,type:o,filter:a,range:l,attr:h}=e;let c=r;return h&&(c=this._fetchFromAttribute(t,e,r)),void 0===r?n?this.errors.push(`empty required option "${t}"`):i&&(r=i):(o&&!Object(s.isType)(r,o)&&(this.errors.push(`value of "${t}" option must be a "${o}" type`),r=void 0),"function"==typeof a&&(r=a(r))),r}_fetchFromAttribute(t,e,r){const{element:i,prefix:o="data-",attrOnly:a}=e;if(!i)return void this.errors.push(`field "${t}" must have element option`);const l=n.a.convert(i).getAttr(o+t);return a&&!l?void this.errors.push(`empty required attribute of field "${t}"`):void 0===r&&l?Object(s.strParse)(l):r}}function o(t={},e,r){Array.isArray(t)?t.forEach(t=>r(t,e)):r(t,e)}function a(t,e){for(let r in t){const s=Object.getOwnPropertyDescriptor(t,r);s?Object.defineProperty(e,r,s):e[r]=t[r]}return e}function l(){}function h(t,e){return t.constructor!=Object?Object.assign(new t.constructor,t):function t(e,r){function s(){for(let s in e)e.hasOwnProperty(s)&&(this[s]=r?t(e[s],!0):e[s])}return Array.isArray(e)?e.slice():"object"==typeof e?(s.prototype="__proto__"in e?e.__proto__:Object.getPrototypeOf(e),s.constructor=e.constructor,new s):e}(t,e)}function c(t,e,r){const s=r?Object.assign({},t):t;return o(e,s,(t,e)=>{for(let r in t)r in e&&(e[r]=t[r])}),s}function u(t,e,r){const s=r?Object.assign({},t):t;return o(e,s,(t,e)=>{for(let r in t)r in e||(e[r]=t[r])}),s}function d(t,e,r){return o(e,t=r?a(t,{}):t,e=>a(e,t)),t}function f(t,e,r,n={errors:!0}){if(!e||!r)return Object(s.printErr)("DEW object.init error - missing required arguments (values or settings)"),!1;const o=new i(t);for(let t in r)"object"!=typeof r[t]?(n.def=r[t],o.checkout(t,n,e[t])):o.checkout(t,r[t],e[t]);return!o.errors.length||(n.errors&&Object(s.printErr)(o.errors),!1)}function _(t,e,r={}){const{enumer:s,config:n,write:i,get:o,set:a,value:l}=r;let h={enumerable:"boolean"==typeof s&&s,configurable:"boolean"!=typeof n||n,writable:"boolean"!=typeof i||i};if("string"==typeof e)void 0!==l?h.value=l:"function"==typeof o&&"function"==typeof a&&(h.get=o,h.set=a,delete h.writable),Object.defineProperty(t,e,h),"function"==typeof a&&void 0!==l&&(t[e]=l);else for(let r in e)h.value=e[r],Object.defineProperty(t,String(r),h)}r.d(e,"fastClone",function(){return l}),r.d(e,"clone",function(){return h}),r.d(e,"innerAssign",function(){return c}),r.d(e,"outerAssign",function(){return u}),r.d(e,"fullAssign",function(){return d}),r.d(e,"init",function(){return f}),r.d(e,"define",function(){return _})},function(t,e,r){"use strict";var s=r(0);class n{constructor(t){this.htl=null,this.nodes={},this._struct={},this._createDOM(t,this._struct)}_createDOM(t,e){t.tag||(t.tag="div");const r=document.createElement(t.tag);e.element=r,this.htl?t.key&&(this.nodes[t.key]=new h(r),e.key=t.key):this.htl=new h(r);for(let s in t)switch(s){case"text":r.innerText=t.text;break;case"html":r.innerHTML=t.html;break;case"value":r.value=t.value;break;case"checked":r.checked=t.checked;break;case"type":r.type=t.type;break;case"name":r.name=t.name;break;case"attrs":for(let e in t.attrs)r.setAttribute(e,t.attrs[e]);break;case"styles":for(let e in t.styles)r.style[e]=t.styles[e];break;case"events":const n=l();a[n]={};for(let e in t.events)a[n][e]=(r=>{t.events[e](r,this.nodes[t.key],this.htl)}),r.setAttribute(`on${e}`,`$html._eventStart(${n},'${e}',event)`);break;case"nodes":e.nodes=[],Array.isArray(t.nodes)||(t.nodes=[t.nodes]);for(let r=0;r<t.nodes.length;r++)this._createDOM(t.nodes[r],e.nodes[r]={})}}build(t=this._struct){const e=t.element.cloneNode(!0);if(t.nodes){const r=document.createDocumentFragment();for(let e=0;e<t.nodes.length;e++){const s=t.nodes[e],n=this.build(s);s.key&&this.nodes[s.key].join(n),r.appendChild(n)}e.appendChild(r)}return e}static createJSON(){if(1!==element.nodeType)return!1;const t={tag:element.tagName.toLowerCase()},e=element.attributes,r=element.childNodes;if(e.length){t.attrs={};for(let r=0;r<e.length;r++){const s=e[r];if("tag"!==s&&"nodes"!==s&&"text"!==s){const e=s.name.replace("-","_");t.attrs[e]=s.value}}}if(r.length){t.nodes=[];for(let e=0;e<r.length;e++)1==r[e].nodeType?t.nodes.push(this.createJSON(r[e])):3==r[e].nodeType&&(t.text=r[e].textContent)}return t}}var i={apply(t,e,r={}){const{origin:s,backface:n,style:i,perspective:o,units:a={}}=r;let l="";if(Array.isArray(s)){const e=a.origin||"%";t.style("transform-origin",s.join(e+" ")+e)}if(!1===n&&t.style("backface-visibility","hidden"),"3d"===i?t.style("transform-style","preserve-3d"):"flat"===i&&t.style("transform-style","flat"),"number"==typeof o){l+=`perspective(${o+(a.perspective||"px")}) `}t.style("transform",l+this.serialize(e))},serialize(t){return Array.isArray(t)?t.reduce((t,e)=>t=this._build(e)+t,""):this._build(t)},_build(t){let e="";const r=t.units||{},{matrix2d:s,matrix3d:n}=t,i=r.translate||"px",o=r.rotate||"deg",a=r.skew||"deg";if(Array.isArray(s)&&9==s.length)e+=`matrix2d(${s.join(",")}) `;else if(Array.isArray(n)&&16==n.length)e+=`matrix3d(${n.join(",")}) `;else{const{scale:r,scaleX:s,scaleY:n,skew:l,rotate:h,translate:c}=t;"number"==typeof c?e+=`translate(${c+i}) `:Array.isArray(c)&&(e+=`translate(${c.join(i+",")+i}) `),"number"==typeof h?e+=`rotate(${h+o}) `:Array.isArray(h)&&(e+=`rotate(${h.join(o+",")+o}) `),"number"==typeof l?e+=`skew(${l+a}) `:Array.isArray(l)&&(e+=`skew(${l.join(a+",")+a}) `),"number"==typeof r?e+=`scale(${r}) `:Array.isArray(r)?e+=`scale(${r.join(",")}) `:"number"==typeof s?e+=`scaleX(${s}) `:"number"==typeof n&&(e+=`scaleY(${n}) `)}return e},origin(t,e,r="%"){Array.isArray(e)&&t.style("transform-origin",e.join(r+" ")+r)},matrix2d(t,e,r){this._applyMatrix(t,e,9,r)},matrix3d(t,e,r){this._applyMatrix(t,e,16,r)},scale(t,e,r){this._applySingle(t,"scale",e,r,"")},scaleX(t,e,r){for(let s=0;s<t.length;s++){let n=r?t[s].style.transform:"";t[s].style.transform=n+` scaleX(${e})`}},scaleY(t,e,r){for(let s=0;s<t.length;s++){let n=r?t[s].style.transform:"";t[s].style.transform=n+` scaleY(${e})`}},skew(t,e,r,s="deg"){this._applySingle(t,"skew",e,r,s)},rotate(t,e,r,s="deg"){this._applySingle(t,"rotate",e,r,s)},translate(t,e,r,s="px"){this._applySingle(t,"translate",e,r,s)},_applySingle(t,e,r,s,n){const i=Array.isArray(r)?`${e}(${r.join(n+",")+n})`:`${e}(${r+n})`;for(let e=0;e<t.length;e++){let r=s?t[e].style.transform:"";t[e].style.transform=r+" "+i}},_applyMatrix(t,e,r,n,i){if(Array.isArray(e)&&e.length==r)for(let r=0;r<t.length;r++){let s=n?t[r].style.transform:"";t[r].style.transform=s+` matrix3d(${e.join(",")})`}else Object(s.printErr)(`matrix must be an array with length "${r}"`)}},o=r(1);const a={},l=Object(s.idGetter)("__elem__");class h{constructor(t){this.elements=t?t instanceof NodeList||Array.isArray(t)?t:[t]:[],this._srcLength=this.elements.length,this._id=l(),this._ready=!1,this.query=""}native(){return 1==this.elements.length?this.elements[0]:Array.from(this.elements)}get length(){return this.elements.length>this._srcLength?this.elements.length-this._srcLength:this._srcLength}get tag(){return this.elements[0].tagName.toLowerCase()}get isHTMLTools(){return!0}ready(){return new Promise((t,e)=>{let r=this.select("img, link, script, iframe");(r=r.join(this.elements).elements)._countReady=0;const s=()=>{r._countReady++,r._countReady==r.length&&t()};r.forEach(t=>{const r=t.tagName.toLowerCase(),n=`Can't load resource "${t.src}"`;let i=!0;if("img"==r){if((i=t.complete)&&!t.width&&!t.height)return void e(n)}else"link"!=r&&"iframe"!=r||(i=!1);i?s():(t.addEventListener("load",s),t.addEventListener("error",e))})})}mutation(t,e,r){if("MutationObserver"in window){r&&this.mutationClear(),this._mutations=[];for(let r=0;r<this.elements.length;r++){let s=new MutationObserver(e=>t(e[0]));s.observe(this.elements[r],e),this._mutations.push({options:e,observer:s,element:this.elements[r]})}return this}Object(s.printErr)("Your browser not support observ mutation")}mutationStart(){for(let t=0;t<this._mutations.length;t++){let e=this._mutations[t];e.observer.observe(e.element,e.options)}}mutationEnd(){for(let t=0;t<this._mutations.length;t++)this._mutations[t].observer.disconnect()}mutationClear(){for(let t=0;t<this._mutations.length;t++)this._mutations[t].observer.disconnect();this._mutations=null}visible(t=3){const e=this._findHidden(this.elements[0],t,0);return e?{element:e}:{}}_findHidden(t,e,r){if(r>=e)return!1;let s=!1,n=t.parentElement||t.parentNode||null;return n&&n!==document&&(s=this.display(n)?this._findHidden(n,e,++r):n),s}display(t){return t||(t=this.elements[0]),"none"!==(t.style.display?t.style.display:getComputedStyle(t).display)}select(t){let e,r=[];if(1==this.elements.length)r=this.elements[0].querySelectorAll(t);else for(let e=0;e<this.elements.length;e++){let s=this.elements[e].querySelectorAll(t),n=r.length;for(let t=0;t<s.length;t++)r[n+t]=s[t]}return(e=new h(r)).query=t,e}getById(t){const e=new h(document.getElementById(t));return e.query="#"+t,e}before(t){return this._insert(t,"beforebegin"),this}after(t){return this._insert(t,"afterend"),this}append(t){return this._insert(t,"beforeend"),this}appendTo(t){return t.append(this),this}prepend(t){return this._insert(t,remove,"afterbegin"),this}_insert(t,e){if(t.isHTMLTools){if(t._jsonConv)return void this._insertJSON(t,"beforeend");Array.isArray(t.elements)||(t.elements=Array.from(t.elements));for(let r=0;r<this.elements.length;r++)for(let s=0;s<t._srcLength;s++){let n=t.elements[s];this.elements[r].insertAdjacentElement(e,n)}}else if(Array.isArray(t))for(let r=0;r<t.length;r++)this._insert(t[r],e)}_insertJSON(t,e){for(let r=0;r<this.elements.length;r++){let s=t._jsonConv.build();t.elements.push(s),this.elements[r].insertAdjacentElement(e,s)}}createFromJSON(t){let e=new n(t),r=e.htl;return r._jsonConv=e,r.node=e.nodes,r}createJSON(t){let e,r=t?t.elements:this.elements;return r.length>1?(e=[],r.forEach(t=>e.push(n.createJSON(t)))):e=n.createJSON(r[0]),e}tplAppend(t){return!!t.isTemplate&&t.appendTo(this)}addClass(t){for(let e=0;e<this.elements.length;e++)this.elements[e].classList.add(t);return this}removeClass(t){for(let e=0;e<this.elements.length;e++)this.elements[e].classList.remove(t);return this}html(t,e=!0){if(void 0===t)return this.elements[0].innerHTML;for(let r=0;r<this.elements.length;r++)e?this.elements[r].innerHTML=t:this.elements[r].innerHTML+=t;return this}text(t){if(void 0===t)return this.elements[0].innerText;for(let e=0;e<this.elements.length;e++)this.elements[e].innerText=t;return this}value(t){if(void 0===t)return this.elements[0].value;for(let e=0;e<this.elements.length;e++)this.elements[e].value=t;return this}active(t){return t?this.addClass("active"):this.removeClass("active"),this}checked(t){if("boolean"==typeof t)for(let e=0;e<this.elements.length;e++)"checked"in this.elements[e]&&(this.elements[e].checked=t);else if(void 0===t)return this.elements[0].checked;return this}toogle(){for(let t=0;t<this.elements.length;t++)"checked"in this.elements[t]&&(this.elements[t].checked=!this.elements[t].checked);return this}get index(){return this.elements[0].selectedIndex}choose(t){for(let e=0;e<this.elements.length;e++)"selectedIndex"in this.elements[e]&&(this.elements[e].selectedIndex=t);return this}width(t){if(void 0===t)return this.elements[0].offsetWidth;"number"==typeof t&&(t+="px");for(let e=0;e<this.elements.length;e++)this.elements[e].style.width=t;return this}height(t){if(void 0===t)return this.elements[0].offsetHeight;"number"==typeof t&&(t+="px");for(let e=0;e<this.elements.length;e++)this.elements[e].style.height=t;return this}offsetParent(){const t=this.elements[0];return{top:t.offsetTop,left:t.offsetLeft}}offsetWindow(){return this.elements[0].getBoundingClientRect()}offsetScroll(){const t=this.elements[0];return{top:t.scrollTop,left:t.scrollLeft}}offsetPage(){let t=this.elements[0],e=t.getBoundingClientRect(),r=document.documentElement,s=e.top+window.pageYOffset-r.clientTop,n=e.left+window.pageXOffset-r.clientLeft;return{top:Math.round(s),left:Math.round(n),bottom:Math.round(s+t.offsetHeight),right:Math.round(n+t.offsetWidth)}}scroll(){}wrap(t,e){if("string"==typeof t){let e=[],r=document.createElement("div");r.classList.add(t);for(let t=0;t<this.elements.length;t++){let s=this.elements[t],n=r.cloneNode();s.parentNode.insertBefore(n,s),n.appendChild(s),e.push(n)}return new h(e)}if(Array.isArray(t)){let r;if(e){r=this.wrap(t[t.length-1]);for(let e=t.length-2;e>=0;e--)this.wrap(t[e])}else{r=this.wrap(t[0]);for(let e=1;e<t.length;e++)this.wrap(t[e])}return r}}hide(){for(let t=0;t<this.elements.length;t++)this.elements[t].style.display="none";return this}show(t=""){for(let e=0;e<this.elements.length;e++)this.elements[e].style.display=t;return this}parent(){const t=[];for(let e=0;e<this.elements.length;e++){let r=this.elements[e].parentElement||this.elements[e].parentNode||null;t.push(r)}return new h(t)}transform(t,e){return i.apply(this,t,e),this}matrix2d(t,e){return i.matrix2d(this.elements,actions,e),this}matrix3d(t,e){return i.matrix3d(this.elements,t,e),this}scale(t,e){return i.scale(this.elements,t,e),this}scaleX(t,e){return i.scaleX(this.elements,t,e),this}scaleY(t,e){return i.scaleY(this.elements,t,e),this}skew(t,e,r){return i.skew(this.elements,t,e,r),this}rotate(t,e,r){return i.rotate(this.elements,t,e,r),this}translate(t,e,r){return i.translate(this.elements,t,e,r),this}origin(t,e){return i.origin(this,t,e),this}getAttr(t){const e=this.elements[0];let r;if(e){if(1==e.nodeType&&e.attributes.length)if(r={},"string"==typeof t)r=e.getAttribute(t);else if(Array.isArray(t))for(let s=0;s<t.length;s++){let t=e.getAttribute(item);t&&(r[item]=t)}else if(!t)for(let t=0;t<e.attributes.length;t++){let s=e.attributes[t];r[s.name]=s.value}return r}Object(s.printErr)("Can't get attribute of undefined element")}setAttr(t,e){if("string"==typeof t&&void 0!==e)for(let r=0;r<this.elements.length;r++)this.elements[r].setAttribute(t,e);else if("object"==typeof t)for(let e=0;e<this.elements.length;e++)for(let r in t)this.elements[e].setAttribute(r,t[r]);return this}unsetAttr(t){if("string"==typeof t)for(let e=0;e<this.elements.length;e++)this.elements[e].removeAttribute(t);else if(Array.isArray(t))for(let e=0;e<this.elements.length;e++)for(let r=0;r<t.length;r++)this.elements[e].removeAttribute(t[r]);else if(void 0===t){let t=this.getAttr();if(t)for(let e=0;e<this.elements.length;e++)for(let r in t)this.elements[e].removeAttribute(r)}return this}style(t,e){if(void 0===e)return this.elements[0].style[t];if("string"==typeof t)for(let r=0;r<this.elements.length;r++)this.elements[r].style[t]=e;return this}styles(){let t,e="";1==arguments.length?t=arguments[0]:(t=arguments[1],e=arguments[0]),e&&(e+="-");for(let r=0;r<this.elements.length;r++)for(let s in t)this.elements[r].style[e+s]=t[s];return this}eventAttach(t,e){a[this._id]||(a[this._id]={});let r=a[this._id];if("string"==typeof t&&"function"==typeof e)this._eventAttach(r,t,e);else if("object"==typeof t)for(let e in t)this._eventAttach(r,e,t[e]);return this}eventDispatch(t){const e=new Event(t);for(let t=0;t<this.elements.length;t++)this.elements[t].dispatchEvent(e);return this}eventDetach(t){const e=a[this._id];if(t)for(let t in e)this.elements.unsetAttr(t.substr(0,2));else a[this._id][t]=void 0;return this}_eventAttach(t,e,r){t[e]?t[e].push(r):t[e]=new o.a(r),this.setAttr("on"+e,`$html._eventStart(${this._id},'${e}',event)`)}each(t){for(let e=0;e<this.elements.length;e++)t(this.elements[e],e,this);return this}clone(t){const e=[];for(let r=0;r<this.elements.length;r++)e.push(this.elements[r].cloneNode(t));return new h(e)}join(t){let e;if(t){this.elements=Array.from(this.elements),e=t.isHTMLTools?t.elements:t instanceof NodeList||Array.isArray(t)?t:[t];for(let t=0;t<e.length;t++)this.elements.push(e[t]);return this}Object(s.printErr)(`Can't attach the invalid elements (${t})`)}clear(){for(let t=0;t<this.elements.length;t++)this.elements[t].innerHTML="";return this}remove(){for(let t=0;t<this.elements.length;t++){let e=this.elements[t];e.parentNode&&e.parentNode.removeChild(e)}return this.elements=[],this._srcLength=0,this}}class c{constructor(){this.element=this._createElement()}get isStyleSheet(){return!0}_createElement(){if(document.createStyleSheet)return document.createStyleSheet();{const t=document.getElementsByTagName("head")[0],e=document.createElement("style");return t.appendChild(e),document.styleSheets[document.styleSheets.length-1]}}_getLastIndex(){return this.element.cssRules.length}add(){if(arguments.length>1){const[t,e]=arguments;this._add(t,e)}else Array.isArray(arguments[0])&&arguments[0].forEach(t=>{const{rule:e}=t;this._add(e,style)})}_add(t,e){if("string"!=typeof t)return void Object(s.printErr)(`rule "${t}" argument must be a string`);if("object"!=typeof e)return void Object(s.printErr)(`styles "${e}" argument must be an object`);const r=c.serialize(t,e),n=this._getLastIndex();return this.element.insertRule(r,n),n}keyFrames(t,e){if(!Array.isArray(e)||e.length<2)return void Object(s.printErr)("keyframes must be an array with more than 1 elements");const r=this._getLastIndex(),n=e.length,i="@keyframes "+t;let o="";return e.forEach((t,e)=>{const{offset:r=e/n}=t;o+=c.serialize(100*r+"%",t)}),this.element.insertRule(`${i} {${o}}`,r),r}media(t,e){if("object"!=typeof t)return void Object(s.printErr)("media request must be an object");const r=this._buildMediaRule(t),n=this._getLastIndex();this.element.insertRule(`${r} {}`,n);const i=new u(this.element,n);return Array.isArray(e)&&e.forEach(t=>{const{rule:e}=t;i.add(e,t)}),i}_buildMediaRule(t){const{only:e}=t;let r="@media",n=!0;e&&(r+=" only",t.only=null);for(let e in t){const i=t[e];if(!i)continue;const o=Object(s.camelCaseToDash)(e);r+=n?" ":" and ",r+="boolean"==typeof i?o:"number"==typeof i?`(${o}:${i}px)`:`(${o}:${i})`,n=!1}return r}remove(t){const e=t.isMedia?t.index:t;this.element.deleteRule(e)}static serialize(t,e){let r=t+"{";for(let t in e){if("rule"===t)continue;let s=e[t];"transform"===t&&"object"==typeof s&&(s=i.serialize(s)),r+=`${t}:${s};`}return r+"}"}}class u{constructor(t,e){this._media=t.cssRules[e],this._rules=this._media.cssRules,this.index=e}get isMedia(){return!0}add(t,e){const r=this._rules.length,s=c.serialize(t,e);return this._media.insertRule(s,r),r}remove(t){this._media.deleteRule(t)}clear(){for(let t=0;t<this._rules.length;t++)this._media.deleteRule(t)}}const d=h.prototype,f=new h(document);f._eventStart=function(t,e,r){a[t][e].call(r)},f.extend=function(t,e){return d[t]=e,this},f.ready=new Promise(t=>{f._ready?t():document.addEventListener("DOMContentLoaded",t)}),f.script=function(t){return new Promise((e,r)=>{const s=document.createElement("script");s.src=t,s.onload=(()=>e(s)),s.onerror=(()=>r(`can't load the script "${t}"`)),document.body.appendChild(s)})},f.create=function(t,e,r){const s=new h(document.createElement(t));return"string"==typeof e?s.addClass(e):"object"==typeof e&&s.setAttr(e),r&&s.style(r),s},f.convert=function(t){return 1==t.nodeType||9==t.nodeType?new h(t):"string"==typeof t?this.select(t):!!t.isHTMLTools&&t},f.parseXML=function(t){let e,r="";return void 0!==window.DOMParser?e=(t=>(new window.DOMParser).parseFromString(t,"text/xml")):void 0!==window.ActiveXObject&&new window.ActiveXObject("Microsoft.XMLDOM")?e=(t=>{const e=new window.ActiveXObject("Microsoft.XMLDOM");return e.async="false",e.loadXML(t),e}):r="parseXML not supported by this browser!",r?Object(s.printErr)(r):e(t)},f.createStyleSheet=function(){return new c},f._body=new h,Object.defineProperty(f,"body",{configurable:!1,get:function(){return!this._body.length&&document.body?this._body.join(document.body):document.body||Object(s.printErr)("body element is currently unavailable!"),this._body}}),document.addEventListener("DOMContentLoaded",()=>f._ready=!0);e.a=f},,function(t,e,r){"use strict";r.r(e);var s=r(1);var n=r(0);const i=new Set;class o{constructor(t={}){const{count:e=0,duration:r=0,delay:n=0,step:i=0,flow:o=1}=t;this._count=e,this._duration=r,this._delay=n,this._step=i,this._flow=o;const{onUpdate:a,onPlay:l,onPause:h,onStart:c,onFinish:u}=t;this._onUpdate=new s.a(a),this._onPlay=new s.a(l),this._onPause=new s.a(h),this._onStart=new s.a(c),this._onFinish=new s.a(u),this._prevTime=0,this._elapsedTime=0,this._iteration=0,this._paused=!0,this._asleep=!1,this._timeRate=o/1e3,this._tickMethod=null,this._init()}get elapsed(){return this._elapsedTime}get iteration(){return this._iteration}_init(){this._step&&this._duration?(this._count=Math.round(this._duration/this._step),this._duration=0):this._count&&this._duration&&(this._step=this._duration/this._count);const t=this._getTickMethod();this[t]=this[t].bind(this),this._tickMethod=t,i.add(this)}_getTickMethod(){return this._step?this._count?"_tickLimitedStep":"_tickInfinityStep":this._duration?"_tickLimited":"_tickInfinity"}onPLay(t){return this._onPLay.push(t),this}onPause(t){return this._onPause.push(t),this}onStart(t){return this._onStart.push(t),this}onFinish(t){return this._onFinish.push(t),this}onUpdate(t){return this._onUpdate.push(t),this}clearActions(){this._onUpdate.clear()}setFlow(t){this._flow=t,this._timeRate=t/1e3}sleep(t){if(!this._asleep)return this.pause(),this._asleep=!0,new Promise(e=>{setTimeout(()=>{this._asleep=!1,this.play(),e()},t/this._timeRate)});console.warn("Can't sleep timer, it is sleeping now!")}play(t){const e="number"==typeof t?t:this.delay;e?setTimeout(()=>this._play(),e/this._timeRate):this._play()}_play(){this._paused=!1;const t=performance.now(),e=this[this._tickMethod];this._prevTime=t,this._elapsedTime?this._onPlay.call():this._onStart.call(),requestAnimationFrame(()=>e(this._prevTime))}pause(){this._paused=!0,this._onPause.call()}finish(){clearTimeout(this._sleepTimeout),this._paused=!0,this._prevTime=0,this._elapsedTime=0,this._iteration=0,this._onFinish.call()}destroy(){this._paused=!0,i.delete(this)}static parse(t){let e=t;const r=Math.floor(e/3600);e-=3600*r;const s=Math.floor(e/60);e-=60*s;const n=Math.floor(e);return e-=n,[r,s,n,Math.floor(1e3*e)]}static play(){i.forEach(t=>t.play())}static pause(){i.forEach(t=>t.pause())}static finish(){i.forEach(t=>t.finish())}static clear(){i.clear()}_tickInfinity(t){const e=(t-this._prevTime)*this._timeRate;this._prevTime=t,this._elapsedTime+=e,this._onUpdate.call(e,this._elapsedTime),this._paused||requestAnimationFrame(this._tickInfinity)}_tickInfinityStep(t){const e=(t-this._prevTime)*this._timeRate;this._prevTime=t,this._elapsedTime+=e,this._onUpdate.call(e,this._elapsedTime),this._paused||setTimeout(()=>this._tickInfinityStep(performance.now()),this._step/this._timeRate)}_tickLimited(t){const e=(t-this._prevTime)*this._timeRate;this._prevTime=t,this._elapsedTime+=e,this._onUpdate.call(e,this._elapsedTime),this._elapsedTime>=this._duration&&this.finish(),this._paused||requestAnimationFrame(this._tickLimited)}_tickLimitedStep(t){const e=(t-this._prevTime)*this._timeRate;this._prevTime=t,this._elapsedTime+=e,this._onUpdate.call(e,this._elapsedTime,this._iteration),this._iteration++>=this._count-1&&this.finish(),this._paused||setTimeout(()=>this._tickLimitedStep(performance.now()),this._step/this._timeRate)}}class a{constructor(){this.__async__status=0,this.__async__list=[],this.__async__progress=null,this.__async__refresh=null,this.__async__ready=0,this.__async__init()}get isAsync(){return!0}get promise(){return this._promise}get ready(){return this.__async__ready}get pending(){return 0===this.__async__status}get fulfilled(){return 1===this.__async__status}get rejected(){return-1===this.__async__status}__async__init(){this._resolve=null,this._reject=null,this.__async__permit=!0,this._promise=new Promise((t,e)=>{this._resolve=t,this._reject=e}),this._promise.then(()=>this.__async__status=1).catch(()=>this.__async__status=-1)}then(t){return this._promise.then(t)}catch(t){return this._promise.catch(t)}resolve(t){this.__async__permit?(this.__async__progress&&this.progress(1),this._resolve(t)):console.warn("can't use resolve after use wait!")}reject(t){this.__async__permit?this._reject(t):console.warn("can't use reject after use wait!")}wait(t,e){let r,s=[];return this.__async__list=Array.isArray(t)?t:[t],this.__async__list.forEach(t=>{let r=t.isAsync?t.promise:t;s.push(r),e&&t.onProgress(()=>{this.progress(this.__calcReady())})}),this.__async__permit=!1,(r=Promise.all(s)).then(t=>{this.__async__permit=!0,this._resolve(t)}).catch(t=>{this.__async__permit=!0,this._reject(t)}),r}__calcReady(){const t=1/this.__async__list.length;let e=0;return this.__async__list.forEach(r=>e+=r.ready*t),e}reset(){this.__async__init()}onRefresh(t){this.__async__refresh||(this.__async__refresh=new s.a),this.__async__refresh.push(t)}refresh(){this.reset(),this.__async__refresh&&this.__async__refresh.call(),this.__async__list.forEach(t=>{t.rejected&&t.refresh()})}onProgress(t){return this.__async__progress||(this.__async__progress=new s.a),this.__async__progress.push(t),this}progress(t,e=1){if(1==this.__async__ready)return;if("number"!=typeof t&&"number"!=typeof e)return void console.warn("progress must to receive numeric arguments");const r=t/e;this.pending&&r>=0&&r<=1&&(this.__async__ready=r,this.__async__progress&&this.__async__progress.call({loaded:t,total:e}))}}const l={linear:t=>t,InQuad:t=>t*t,OutQuad:t=>t*(2-t),InOutQuad:t=>t<.5?2*t*t:(4-2*t)*t-1,InCubic:t=>t*t*t,OutCubic:t=>--t*t*t+1,InOutCubic:t=>t<.5?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1,InQuart:t=>t*t*t*t,OutQuart:t=>1- --t*t*t*t,InOutQuart:t=>t<.5?8*t*t*t*t:1-8*--t*t*t*t,InQuint:t=>t*t*t*t*t,OutQuint:t=>1+--t*t*t*t*t,InOutQuint:t=>t<.5?16*t*t*t*t*t:1+16*--t*t*t*t*t};var h=r(2);const c=Object(n.idGetter)(),u=new Map,d=new Map;var f={onchange(t,e,r){const s=`__bind__${e}`;Object(h.define)(t,s,{value:t[e]}),Object(h.define)(t,e,{get:()=>t[s],set:e=>{t[s]=e,r(e)},config:!0,enumer:!0})},context:(t,e)=>()=>t.apply(e,arguments),trigger(t,e,r){this._createNode(t,e,r)},break(t){if(Array.isArray(t))t.forEach(t=>this.break(t));else{if(!d.has(t))return;const e=d.get(t);e.current.bonds.delete(e.target.id),d.delete(t)}},detach(t,e){const r=t.__bind__+e;if(!u.has(r))return;const{bonds:s,value:n}=u.get(r);s.forEach(t=>d.delete(t.id)),s.clear(),u.delete(r),Object(h.define)(t,e,{value:n,enumer:!0})},clear(t,e){const r=t.__bind__+e;u.has(r)&&u.get(r).nodes.clear()},fields(t){const{type:e,left:r,right:s,modifier:n,trigger:i}=t;if("sided"===e)return this._attach(r,s,n,i);if("cross"===e){const t=c();return this._attach(r,s,r.modifier,r.trigger,t),this._attach(s,r,s.modifier,s.trigger,t),t}},sided(t,e,r,s){if(Array.isArray(t)||Array.isArray(e))return this._attach({object:t[0],field:t[1]},{object:e[0],field:e[1]},r,s);Object(n.printErr)("DEW bind error - first two arguments must be an array!")},cross(t,e){if(!Array.isArray(t)&&!Array.isArray(e))return void Object(n.printErr)("DEW bind error - first two arguments must be an array!");const r=[],s={object:t[0],field:t[1]},i={object:e[0],field:e[1]},o=this._attach(s,i,e[2],t[3]),a=this._attach(i,s,t[2],e[3]);return r.push(o,a),r},_attach(t,e,r,s){const n=this._createNode(t.object,t.field,s),i=this._createNode(e.object,e.field);"function"!=typeof r&&(r=(t=>t));const o=c(),a={id:o,current:n,target:i,modifier:r};return d.set(o,a),n.bonds.set(i.id,a),i.value=r(n.value),o},_createNode(t,e,r){if(!t.__bind__){const e=c();Object(h.define)(t,"__bind__",{value:e,config:!0})}"function"!=typeof r&&(r=null);const s=t.__bind__+e;if(u.has(s)){const t=u.get(s);return r&&(t.trigger=r),t}{const n={object:t,field:e,id:s,value:t[e],bonds:new Map,trigger:r};return u.set(s,n),Object(h.define)(t,e,{get:()=>u.get(s).value,set:t=>this._set(s,[s],t),config:!0,enumer:!0}),n}},_set(t,e,r){const s=u.get(t);s.value=r,t===e[0]&&s.trigger&&s.trigger(r),s.bonds.size&&s.bonds.forEach(t=>{const{modifier:s,target:n}=t;n&&!e.includes(n.id)&&(e.push(n.id),this._set(n.id,e,s(r)))})}};var _=new class{constructor(){const{pathname:t,search:e}=location;this._search=this._getSearch(e),this._path=this._getPath(t),this._strPath=t,this._strSearch=e}_getSearch(t){const e=new Map;return t&&t.replace("?","").split("&").forEach(t=>{const r=t.split("="),s=r[0].replace("-","_");e.set(s,r[1])}),e}_getPath(t){return t.replace(/^\/|\/$/g,"").split("/")}changeState(){history.replaceState(null,document.title,this._strPath+this._strSearch)}addState(){history.pushState(null,document.title,this._strPath+this._strSearch)}getPath(){return this._path}setPath(t,e){return Array.isArray(t)&&(t=`/${t.join("/")}/`),this._strPath=t,e&&this.changeState(),this}getSearch(t){if(void 0===t)return this._search;if(this._search.has(t))return this._search.get(t);if(Array.isArray(t)){const e={};return t.forEach(t=>{this._search.has(t)&&(e[t]=this._search.get(t))}),e}}setSearch(t,e){for(let e in t)this._search.set(e,t[e]);return this._strSearch=this.serialize(this._search),e&&this.changeState(),this}removeSearch(t,e){return void 0===t?this._search.clear():this._search.has(t)?this._search.delete(t):Array.isArray(t)&&t.forEach(t=>{this._search.has(t)&&this._search.delete(t)}),this._strSearch=this.serialize(this._search),e&&this.changeState(),this}setFullPath(t,e,r){t&&this.setPath(t),e&&this.setSearch(e),r&&this.changeState()}go(t){t||(t=this._strPath),location.href=t+this._strSearch}serialize(t){let e="?";for(let r in t){const s=t[r];"number"!=typeof s&&"string"!=typeof s&&"boolean"!=typeof s||(e+=`${r}=${s}&`)}return e.slice(0,-1)}};var p=new class{constructor(){this._xhr="onload"in new XMLHttpRequest?XMLHttpRequest:XDomainRequest}get(t,e,r={}){const s=new this._xhr,i=new a,{cached:o,errors:l,progress:c}=Object(h.innerAssign)({cached:!1,progress:!1,errors:!1},r);return o||(e||(e={}),e.c=Math.random()),s.onload=function(){this.status<400?i.resolve(this.responseText):i.reject(`(${this.status}) ${this.statusText} "${t}"`)},s.onerror=function(){l&&Object(n.printErr)(`(${this.status}) ${this.statusText} "${t}"`),i.reject(this.statusText)},c&&(s.onprogress=function(t){const{loaded:e,total:r}=t;i.progress(e,r)}),s.open("GET",t+_.serialize(e),!0),s.send(),i}post(t={}){const e=new FormData,r={};for(let r in t)e.append(r,t[r]);return r.to=((t,e)=>{if(!t)return void Object(n.printErr)("http.post must have some path!");const r=new a,s=new this._xhr;return s.onload=function(){this.status<400?r.resolve(this.responseText):r.reject(`(${this.status}) ${this.statusText} "${t}"`)},s.onerror=function(){r.reject(this.statusText),Object(n.printErr)(`(${this.status}) ${this.statusText} "${t}"`)},e.progress&&(s.onprogress=function(t){const{loaded:e,total:s}=t;r.progress(e,s)}),s.open("POST",t,!0),s.send(),r}),r}},m=r(3);const y={CallBacker:s.a,Eventer:class{constructor(){this._events={},this._locks={}}listen(t,e){const r=this._events[t];r?r.push(e):this._events[t]=new s.a(e)}refuse(t,e){const r=this._events[t];r&&r.remove(e)}detach(t){this._events[t]=null}clear(t){const e=this._events[t];e&&e.clear()}lock(t){const e=this._events[t];e&&(this._locks[t]=e)}unlock(t){const e=this._locks[t];e&&(this._events[t]=e,this._locks[t]=null)}dispatch(t,e){const r=this._events[t],s=this._locks[t];r.isCallBacker?s||r.call(e):console.warn(`eventer error - event '${t}' is not defined`)}},Template:class{constructor(t,e){this._htl=null,this._render=(()=>{}),this._create(t,e)}get isTemplate(){return!0}appendTo(t){return this._htl=$html.convert(t),this}draw(t){try{this._htl?this._htl.html(this._render(t)):Object(n.printErr)("DEW template must be append to DOM before drawing")}catch(t){Object(n.printErr)(`DEW template error - ${t.message}`)}}_create(t,e){const r=t.replace(/\<&/g,"<&#").split(/\<&|&\>/gi);let s="let ";Array.isArray(e)&&e.forEach(t=>s+=t+"=data."+t+","),s+="__output__='';",r.forEach(t=>{s+="#"==t[0]?t.slice(1).replace(/:=/g,"__output__+=")+";\n":"__output__+='"+t.replace(/('|\n)/g,"\\$1")+"';"}),s+=" return __output__";try{this._render=new Function("data",s)}catch(t){Object(n.printErr)(`DEW template error - ${t.message}`),this._render=(()=>{})}}},Timer:o,Async:a,Lerp:class{constructor(t={}){let{timing:e,duration:r=500}=t;"string"==typeof e&&e in l&&(e=l[e]),this._timing=e||l.linear,this._duration=r,this._from=0,this._to=1,this._value=0,this._progress=0;const{action:n=(()=>{}),onStart:i,onFinish:a}=t;this._action=n,this._onStart=new s.a(i),this._onFinish=new s.a(a),this._delta=1,this._completed=!0,this._stepResolver=(()=>{}),this._timer=new o({onUpdate:(t,e)=>this._update(e)}),console.log(this)}addAction(t){this._action=t}onStart(t){this._onStart.push(t)}onFinish(t){this._onFinish.push(t)}setState(t,e,r,s){if("number"==typeof t||"number"==typeof e)return this._from=t,this._to=e,this._delta=e-t,this._value=t,this._progress=0,"number"==typeof r&&(this._duration=r),"string"==typeof s&&s in l?this._timing=l[s]:"function"==typeof s&&(this._timing=s),this;console.warn("setState must to recieve required arguments - from, to")}_update(t){const e=t/this._duration;if(e>=1)return this._action(this._to),void this.finish();this._progress=this._timing(e),this._value=this._from+this._progress*this._delta,this._action(this._value)}run(t,e,r,s){return this.setState(t,e,r,s).play()}sleep(t){return this._timer.sleep(t)}play(){return this._completed&&(this._onStart.call(),this._completed=!1),this._timer.play(),new Promise(t=>this._stepResolver=t)}pause(){this._timer.pause()}finish(){this._value=this._from,this._progress=0,this._completed=!0,this._timer.finish(),this._onFinish.call(),this._stepResolver()}},bind:f,http:p,url:_,html:m.a};e.default=y}]);